<!DOCTYPE html>
<html>
<head>
  <title>Arduino Live Data</title>
</head>
<body>
  <h1>ProxiCap+</h1>
  <img src="https://www.bing.com/images/search?view=detailV2&ccid=sPGwosw8&id=6D07B08933E2D24508E181E55C4F60C62CB362B8&thid=OIP.sPGwosw8Y8prvCFhNDo6iAHaLz&mediaurl=https%3A%2F%2Fthumbs.dreamstime.com%2Fz%2Fman-wearing-vintage-hat-funny-concept-150652500.jpg&cdnurl=https%3A%2F%2Fth.bing.com%2Fth%2Fid%2FR.b0f1b0a2cc3c63ca6bbc2161343a3a88%3Frik%3DuGKzLMZgT1zlgQ%26pid%3DImgRaw%26r%3D0&exph=1690&expw=1060&q=man+wearing+hat+funny&form=IRPRST&ck=EC3428DEFB1AD44764131F6DCC4316EA&selectedindex=27&itb=0&qpvt=man+wearing+hat+funny&cw=1145&ch=535&ajaxhist=0&ajaxserp=0&vt=0&sim=11.jpg">
<pre id="data">Waiting for data</pre>

<script>
async function fetchData() {
  try {
    const res = await fetch(
      "https://funny-kelpie-034c79.netlify.app/.netlify/functions/update"
    );
    const data = await res.json();

    if (Object.keys(data).length === 0) {
      document.getElementById("data").textContent = "Waiting for data...";
    } else {
      document.getElementById("data").textContent =
        JSON.stringify(data, null, 2);
    }
  } catch (err) {
    document.getElementById("data").textContent = "Error fetching data";
  }
}

setInterval(fetchData, 3000);
fetchData();
</script>

</body>
</html>
